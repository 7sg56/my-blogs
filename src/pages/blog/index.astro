---
import Layout from "../../layouts/Layout.astro";
import { SearchableBlogList } from "../../components/SearchableBlogList";
import { Footer } from "../../components/Footer";
import { getCollection } from "astro:content";

const allPosts = (await getCollection("blog")).sort(
    (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
---

<Layout title="Blog | 7sg56.xyz">
    <main class="bg-neutral-950 min-h-screen pt-24">
        <div class="max-w-7xl mx-auto px-4">
            <div class="mb-12 text-center">
                <h1 class="text-4xl font-bold text-white mb-4 tracking-tighter">
                    Writing
                </h1>
                <p class="text-neutral-400 max-w-xl mx-auto">
                    Thoughts on software, security, and the occasional rant.
                </p>
            </div>
            <SearchableBlogList client:load posts={allPosts} />
        </div>
    </main>
    <Footer client:visible />
</Layout>
